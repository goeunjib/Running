<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <title>scrollY</title>
  <style>
    body {
      margin: 0;
    }

    header {
      position: fixed;
      top: 0;
      z-index: 999;
      background-color: lightcoral;
      width: 100%;
      height: 100px;
      transition: .4s;
      border-bottom: 2px solid #ffffff;
      display: flex;
      justify-content: space-between;
    }

    header h1 {
      margin: 20px;
      padding: 10px;
      background-color: lightblue;
      color: white;
      line-height: 40px;
    }

    header .global_nav {
      display: flex;
      list-style: none;
      margin: 0;
      padding: 0;
      color: white;
      text-transform: capitalize;
      font-weight: bold;
    }

    header .global_nav a {
      color: inherit;
      text-decoration: none;
      display: block;
      margin: 30px;
    }


    header.active {
      height: 60px;
      background-color: transparent;
      border-bottom-width: 1px;
    }

    header.active h1 {
      padding: 0;
      font-size: 1.2rem;
    }

    header.active .global_nav {
      font-size: .95rem;
      font-weight: normal;
    }

    header.active .global_nav a {
      margin: 10px;
    }

    main {
      height: 300vh;
      background-color: lightblue;
      font-weight: bold;
      font-size: 3rem;
      text-align: center;
      padding-top: 100px;
      position: relative;
    }

    main h2 {
      position: absolute;
      top: 300px;
      background-color: lightcoral;
      color: white;
      padding: 10px;
    }
  </style>
  <script src="../common/jquery-3.7.0.min.js"></script>
</head>

<body>
  <header>
    <h1>로고</h1>
    <menu class="global_nav">
      <li><a href="#">menu1</a></li>
      <li><a href="#">menu2</a></li>
      <li><a href="#">menu3</a></li>
      <li><a href="#">menu4</a></li>
    </menu>
  </header>
  <main>
    <h2>main</h2>
  </main>

  <script>
    /*
      window.pageYOffset: y축 방향으로 스크롤한 거리. 오래된 버전과 호환
      window.scrollY: y축 방향으로 스크롤한 거리
      pageXOffset: x축 방향으로 스크롤한 거리
      scrollX: x축 방향으로 스크롤한 거리

      box1.scrollTop <- o 요소 기주능로 스크롤한 거리
      box1.scrollY <- x
      document.documentElement.scrollTop: 스크롤에 따라 숨겨진 컨텐츠의 가로로 y축 방향으로 스크롤한 거리 값으로 반환
    */

    const elem = document.documentElement;
    $(window).on('scroll', () => {
      /* console.log('scrollTop', document.documentElement.scrollTop);
      console.log('pageYOffset', pageYOffset);
      console.log('scrollY', scrollY); */

      const h2Top = $('h2').offset().top - $('header').height();
      console.log(h2Top);

      if (scrollY > h2Top) {
        $('header').addClass('active')
      } else {
        $('header').removeClass('active')
      }
    });
  </script>
</body>

</html>