<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <title>requestAnimationFrame</title>
  <style>
    body {
      width: 100%;
      height: 100vh;
      margin: 0;
    }

    .emoji {
      position: fixed;
      top: 10px;
      left: 10px;
      font-size: 3rem;
      background-image: linear-gradient(rgba(168, 207, 176, 0.185) 50%, rgba(43, 116, 58, 0.7));
      width: 100px;
      height: 100px;
      border-radius: 50%;
      text-align: center;
      line-height: 90px;

      /* transformì„ ì‚¬ìš©í• í…Œë‹ˆ ë¸Œë¼ìš°ì €ëŠ” ì¤€ë¹„í•˜ê³  ìˆì–´ë¼ */
      will-change: transform;
      /* 
        will-change: ìš”ì†Œì— ì˜ˆìƒë˜ëŠ” ë³€í™”ì˜ ì¢…ë¥˜ì— ê´€í•œ íŒíŠ¸ë¥¼ ë¸Œë¼ìš°ì €ì— ì œê³µ.ë¸Œë¼ìš°ì €ì—ê²Œ ì¼ì–´ë‚  ë™ì‘ì„ ë¯¸ë¦¬ ì•Œë ¤ ì¤Œ
        ì›¹í‚· ê³„ì—´ ë¸Œë¼ìš°ì €ëŠ” css transform ì´ë‚˜ animation ì†ì„± ì‚¬ìš©ì‹œ ê¹œë¹¡ì´ëŠ” í˜„ìƒì„ ë°©ì§€í•˜ê²Œ ìœ„í•´ ì‚¬ìš©.
        ì£¼ì˜)
        ìµœì í™”ë¥¼ ìœ„í•´ ë„ˆë¬´ ë§ì€ ìš”ì†Œì— ì ìš© X

        auto: ê¸°ë³¸ê°’;
        scroll-position: ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ë°”ê¿€ ë•Œ
        contents: ì»¨í…ì¸  ë°”ê¿€ ë•Œ
        */
    }
  </style>
</head>

<body>
  <div class="emoji">ğŸ„</div>

  <script>
    /*
      https://developer.mozilla.org/ko/docs/Web/API/window/requestAnimationFrame
    
      window.reauestAnimationFrame(ì½œë°± í•¨ìˆ˜);
        ë¸Œë¼ìš°ì €ì— í”„ë ˆì„ì´ ì‹¤í–‰ë˜ê¸° ì „ í•¨ìˆ˜ í˜¸ì¶œ
        ì‹œê°„ ê²½ê³¼ì— ë”°ë¥¸ ì§€ì†ì ì¸ ë³€í™” ê°€ëŠ¥
        í•œ ë²ˆë§Œ í˜¸ì¶œë˜ë¯€ë¡œ ì—°ì† í˜¸ì¶œ í•„ìš”
    */

    const emoji = document.querySelector('.emoji');

    // ë§ˆìš°ìŠ¤ ì¢Œí‘œ
    let mouseX = 0;
    let mouseY = 0;

    // ì»¤ì„œë¥¼ ë”°ë¼ë‹¤ë‹ˆëŠ” ì´ëª¨ì§€ ì¢Œí‘œ
    let emojiX = 0;
    let emojiY = 0;

    // ë§ˆìš°ìŠ¤ ì´ë™ì‹œ ì´ëª¨ì§€ ì´ë™
    const mouseMove = (e) => {
      mouseX = e.clientX - 50;
      mouseY = e.clientY - 50;
    }
    document.addEventListener('mousemove', mouseMove);

    // ë”°ë¼ë‹¤ë‹ˆëŠ” ì´ëª¨ì§€
    const aniEmoji = () => {
      emojiX += (mouseX - emojiX) * 0.1;
      emojiY += (mouseY - emojiY) * 0.1;
      // console.log(emojiX, emojiY);

      emoji.style.transform = `translate(${emojiX}px, ${emojiY}px)`;

      requestAnimationFrame(aniEmoji); // ì—°ì† í˜¸ì¶œì´ í•„ìš”
    }

    aniEmoji();
  </script>
</body>

</html>